# 02. Operating System

만든이 : [🍀] 최보윤, [🦔] 정민지, [🍺]이시화, [😎] 박귀우, [😠] 한규빈, [🐰] 김란, [🌱] 서주원, [:sparkling_heart:] 김우진
</br></br>

# 운영체제 개념

#### 🍀 운영체제란 무엇인가?

- 운영체제란 프로그램 실행시 필요한 하드웨어 단에서의 작업을 처리해주며 응용 프로그램과 하드웨어 사이에서 인터페이스 역할을 하며, 시스템의 동작을 제어하는 시스템 소프웨어입니다.
  </br></br>

# 커널과 쉘

#### 🍀 프로그램이 실행되는 동안 사용자 모드와 커널모드는 어떻게 동작하는가?

- 프로세스는 두 모드 중 하나의 모드만을 가지는 것이 아니라 프로그램이 실행되는 동안 수없이 사용자 모드와 커널 모드를 반복하면서 실행됩니다. </br>
  프로세스가 사용자 모드에서 작업을 수행하다 하드웨어 접근, 보안 과 같은 중요 명령을 수행해야 될 때면 시스템 콜을 호출합니다. 그럼 커널 모드로 전환되며 필요한 커널 함수를 호출하여 연산을 수행합니다. 연산이 모두 완료되면 경우에 따라 결과값과 함게 사용자 모드로 전환되어 다시 프로그램의 작업을 수행하게 됩니다.
  </br></br>

#### 🍺 쉘의 기능과 종류

- 쉘의 기능

  사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램, 쉘도 하나의 응용 프로그램 </br>

- 쉘의 종류
  1. Bourne Shell
  - 벨 연구소의 스티브본 (Stephen Bourne) 개발, 많은 셸 스크립트의 기반이 되는 쉘
  </br></br>
  2. C Shell
  - C언어 구문과 유사, Bourne Shell 을 확장하여 히스토리, 작업제어, 엘리어스 등 기능 추가 개발자들에게 유용한 기능들을 제공한다.
  </br></br>
  3. TC Schell
    - C Shell 에 명령 행 완성 과 명령 행 편집 기능을 추가
  </br></br>
  4. Korn Shell	
    - Bourne Shell 가 호환되며 C Shell 의 많은 기능을 포함,  Unix 계열에서 많이 사용된다.
  </br></br>
  5. Bourne Again Shell (bash)
    - 리눅스에서 가장많이 사용되는 쉘로 Bourne 셀을 토대로 C셸과 Korn Shell 의 기능들을 통합시켜 개발되었다.
</br></br>

# 프로세스와 스레드

#### 🦔 PCB(Process Control Block)란 무엇인가?

- <strong>프로세스의 상태 정보를 저장</strong>하는 공간이다. </br> A 프로세스가 수행되다 B 프로세스로 넘어가고 다시 A 프로세스로 돌아와 이전에 하던 작업을 수행할 때 이전에 A 프로세스가 수행되고 있었다는 사실을 어떻게 알 수 있을까? 그 정보가 담겨있는 공간이 바로 PCB이다. 프로세스가 생성될 때 만들어진다. PCB에는 해당 프로세스의 고유 번호, 상태, 다음에 실행될 프로세스 포인터, 자원 정보, 입출력 상태 정보 등이 들어가있다. 작업 관리자를 열면 나와있는 PID! 이것이 PCB에 저장되어 있는 프로세스 고유 번호이다.
  </br></br>

#### 🦔 IPC란 무엇이며 왜 필요한가?

- IPC란 Inter-Process Communication, 프로세스 간의 통신을 뜻한다. </br>IPC 기법은 굉장히 다양하게 존재하는데 대표적인 기법으로는 메세지 큐, 쉐어드 메모리, 파이프 등이 있다. 이 기법들은 모두 커널 공간을 사용하는데 프로세스는 커널 공간은 공유할 수 있기 때문이다. 예를 들어 커널 공간에 메모리 공간을 만들고 해당 공간을 변수처럼 쓰는 식이다. </br> 그렇다면 왜 필요할까? 멀티 코어의 등장으로 성능을 높이기 위해 하나의 프로그램을 여러 프로세스로 나누어 처리하게 되었다. </br>이로 인해 프로세스 간의 통신이 필요한 경우가 생기는데 프로세스는 서로 공간이 완전히 분리되어 있기 때문에 그 자체로는 서로 통신이 불가능하다. 그로 인해 프로세스 간의 통신을 도와주는 IPC가 나오게 되었다.
  </br></br>

#### 🌱 Thread vs Process
- 프로세스는 독립적, 스레드는 프로세스의 서브넷
- 프로세스는 각각 독립적인 자원을 가짐, 스레드는 프로세스 자원 공유
  - 하나의 프로세스 안에 여러 스레드가 있을 때, stack을 제외한 code, data, heap을 공통된 자원으로 사용한다.
- 프로세스는 자신만의 주소영역을 가짐, 스레드는 주소영역 공유
- 프로세스간에는 IPC 기법으로 통신해야 함, 스레드는 필요 없음
  </br></br>


# 스케줄링

#### 🦔 멀티 태스킹, 멀티 프로그래밍의 차이는 무엇인가?

- 구현에 있어서는 유사한 측면이 있지만 각자 다른 목적을 가지고 있다. </br>
  멀티 태스킹은 단일 CPU에서 여러 프로그램이 굉장히 빠르게 교대로 실행하는 방식이며 이것을 통해 사용자에게 이것이 마치 동시에 이루어지고 있다는 느껴지게 하는 목적을 가졌다.
  멀티 프로그래밍은 응용 프로그램이 시분할 방식을 통해 처리되는 과정에서 CPU가 아닌 입출력 장치나 저장 매체 등을 이용할 때 그 시간 동안 다른 응용 프로그램을 실행하는 방식이며 </br> CPU의 사용을 최대화하는 목적을 가졌다. 프로세서의 자원 낭비를 최소화한다. </br>
  멀티 태스킹은 동시에 여러 프로그램이 돌아가는 것처럼 보여주는 것이고 멀티 프로그래밍은 CPU를 쉬지 않고 일하게 하는 것이다.
  </br></br>

#### 🍀 스케줄러란 무엇이며 스케줄러의 종류에는 무엇이 있는가?

- 스케줄러란 어떤 프로세스에 자원을 할당할지 결정하는 운영체제의 커널 모듈로 장기 스케줄러, 중기 스케줄러, 단기 스케줄러가 있습니다.

  1. 장기 스케줄러는 메모리와 디스크 사이의 스케줄링을 담당하는 스케줄러로 풀(pool)로부터 프로세스들을 선별하여 실행시키기 위해 메모리에 적재하는 역할을 합니다.
  2. 단기 스케줄러는 Dispatcher가 메모리에 적재되어 실행이 준비된 프로세스들 중 하나를 선택하여 CPU에 할당하는 역할을 합니다. 현재의 개념은 가상 메모리 개념이기 때문에 장기, 중기 스케줄러가 실제 운영체제에 사용되지 않아 일반적으로 스케줄러라 부르는 것은 단기 스케줄러를 의미합니다.
  3. 중기 스케줄러는 어떤 프로세스들이 CPU를 할당받을 것인지를 결정지어 프로세스들을 중재하여 일시적으로 보류하고 재활성화 하는 역할을 합니다.
     </br></br>

#### 🍺 스케쥴러의 종류

1. FIFO<br>
가장 간단한 스케쥴러 먼저 온 순서대로 처리
배치 처리 시스템


2. Round Robin<br>
FIFO 구조에서 원형으로 돌아가는 시스템
시분할 시스템

3. SJF<br>
최단 작업 스케쥴러로 실행 시간이 가장 짧은 프로세스 부터 먼저 실행
실제 프로세스가 정확히 얼마나 걸리는지 알 수 있는 곳에서 사용(반도체 fab)

4. 우선순위 기반 스케쥴링<br>
프로세스에 우선순위를 두고 실행하는 스케쥴링
정적 우선순위, 동적우선순위가 존재
  </br></br>


# 동기화

#### 🐰 동기화란 무엇이며  해결 방안으로는 무엇이 있는가?

- 동기화(Syncronization)란 작업들 사이에 실행 시기를 맞추는 것을 말한다.
- 동기화 이슈는 여러 스레드가 동일한 데이터에 접근했을 때 발생하는 오류를 뜻한다.
- 동기화 이슈 해결 방안들
  1. Mutual exclusion(상호 배제): 임계영역(critical resource를 동시에 읽고 쓸 수 없도록 하는 부분)을 locking한다.
     Mutex(binary semaphore): 임계 구역에 하나의 스레드만 들어가도록 허용한다.
     Semaphore: 임계 구역에 여러 스레드가 들어갈 수 있다. counter를 이용하여 동시에 리소스에 접근할 수 있는 허용 가능한 스레드 수를 제어한다.
  2. 스레드는 프로세스의 모든 데이터에 접근 가능하므로 여러 스레드가 변경하는 공유 변수에 대해 Exclusive Access가 필요하다. 
     즉, 어느 한 스레드가 공유 변수를 갱신하는 동안 다른 스레드가 접근하지 못하도록 막는다. 
     </br></br>

# 교착상태

#### :sparkling_heart: 교착상태란 무엇인가?

- 무한대기 상태, 두 개 이상의 작업이 서로 상대방의 작업이 끝기만을 기다리고 있기 때문에 다음단계로 진행하지 못하는 단계
- 여러 프로세스가 동일자원 점유를 요청할 때 발생
</br></br>

# 기아상태

#### 🌱 기아상태(starvation)
- 특정 프로세스의 우선순위가 낮아서 원하는 자원을 계속 할당 받지 못하는 상태
- 교착상태와 기아상태
  - 교착상태는 여러 프로세스가 동일 자원 점유를 요청할 때 발생
  - 기아상태는 여러 프로세스가 부족한 자원을 점유하기 위해 경쟁할 때, 특정 프로세스는 영원히 자원이 할당이 안되는 경우를 주로 의미함
</br></br>

#### 🌱 기아상태 해결 방안
- 우선순위 변경
  - 프로세스 우선순위를 수시로 변경해서, 각 프로세스가 높은 우선순위를 가질 기회주기
  - 오래 기다린 프로세스의 우선순위를 높여주기
  - 우선순위가 아닌, 요청 순서대로 처리하는 FIFO 기반 요청큐 사용
</br></br>


# 메모리 관리 전략

# 페이징

# 가상 메모리
